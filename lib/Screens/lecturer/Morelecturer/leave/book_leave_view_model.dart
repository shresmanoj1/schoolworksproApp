import 'dart:convert';import 'package:flutter/material.dart';import 'package:schoolworkspro_app/api/api_response.dart';import '../../../../api/repositories/lecturer/attendance_repository.dart';import '../../../../response/lecturer/attendance_leave_type_response.dart' as type;import '../../../../response/lecturer/leave_response.dart';class BookLeaveViewModel extends ChangeNotifier {  ApiResponse _leaveTypeResponse = ApiResponse.initial("Empty Data");  ApiResponse get leaveTypeResponse => _leaveTypeResponse;  List<type.Leave> _leave = <type.Leave>[];  List<type.Leave> get leave => _leave;  Future<void> fetchBookLeave() async {    _leaveTypeResponse = ApiResponse.initial("Loading");    notifyListeners();    try {      type.LeaveTypeResponse res = await AttendanceRepository().AttendanceleaveType();      print(res.success);      if (res.success == true) {        _leave = res.leave!;        _leaveTypeResponse = ApiResponse.completed(res.success.toString());        notifyListeners();      } else {        _leaveTypeResponse = ApiResponse.error(res.success.toString());      }    } catch (e) {      print("VM CATCH ERR :: " + e.toString());      _leaveTypeResponse = ApiResponse.error(e.toString());    }    notifyListeners();  }  ApiResponse _allLeaveTypeResponse = ApiResponse.initial("Empty Data");  ApiResponse get allLeaveTypeResponse => _allLeaveTypeResponse;  LeaveResponse _allLeaveData = LeaveResponse();  LeaveResponse get allLeaveData => _allLeaveData;  Future<void> fetchLecturerAllLeave(String username) async {    _allLeaveTypeResponse = ApiResponse.initial("Loading");    notifyListeners();    try {      LeaveResponse res = await AttendanceRepository().getLecturerLeaveReport(username);      print(res.success);      if (res.success == true) {        _allLeaveData = res;        _allLeaveTypeResponse = ApiResponse.completed(res.success.toString());        notifyListeners();      } else {        _allLeaveTypeResponse = ApiResponse.error(res.success.toString());      }    } catch (e) {      print("VM CATCH ERR :: " + e.toString());      _allLeaveTypeResponse = ApiResponse.error(e.toString());    }    notifyListeners();  }}