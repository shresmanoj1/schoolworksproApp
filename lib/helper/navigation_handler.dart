import 'dart:convert';import 'package:flutter/material.dart';import 'package:provider/provider.dart';import 'package:schoolworkspro_app/Screens/lecturer/lecturer_common_view_model.dart';import 'package:schoolworkspro_app/common_view_model.dart';import 'package:schoolworkspro_app/response/notification_response.dart';import 'package:shared_preferences/shared_preferences.dart';import '../Screens/lecturer/assigned_requestlecturer/assigned_request_lecturer.dart';import '../Screens/lecturer/events/events_lecturer.dart';import '../Screens/lecturer/routines-lecturer/routine-lecturer.dart';import '../Screens/routines/routine_screen.dart';import '../config/preference_utils.dart';import '../response/authenticateduser_response.dart';void notificationClickHandler(    BuildContext context, Notificationss e) {  late User _user;  late LecturerCommonViewModel lecturerCommonViewModel;  late CommonViewModel commonViewModel;  final SharedPreferences localStorage = PreferenceUtils.instance;  getData() {    if (localStorage.getString('token') != null) {      _user = User.fromJson(          jsonDecode(localStorage.getString("_auth_").toString()));      lecturerCommonViewModel = Provider.of<LecturerCommonViewModel>(          context,          listen: false);      commonViewModel = Provider.of<CommonViewModel>(          context,          listen: false);    }  }  String? path;  String? unique;  var pathSplit = e.path?.split("/");  try {    var type = pathSplit![1];    var args = null;    if (pathSplit.length == 3) {      args = pathSplit[2];    }    getData();    if (_user.type == "Lecturer" ||        _user.type == "Head Lecturer" ||        _user.type == "Student"        // || _user.type == 'Principal'  || _user.type == 'HR'    ) {      if(_user.type == "Lecturer" ||          _user.type == "Head Lecturer"){        if (type == "news-and-announcements") {          lecturerCommonViewModel.itemTapped(2);        }        else if (type == "my-requests") {          Navigator.push(              context,              MaterialPageRoute(                builder: (context) => const AssignedRequestLecturer(isAdmin: true,),              ));        }        else if (type == "events") {          Navigator.push(              context,              MaterialPageRoute(                builder: (context) => EventLecturer(showAppBar: true),              ));        }        else if (type == "routine") {          Navigator.push(              context,              MaterialPageRoute(                builder: (context) => const RoutineLecturer(),              ));        }        else if (type == "all-requests") {          Navigator.of(context).pushNamed(            '/lecturerrequest',            arguments: false          );        }      }      else if(_user.type == "Student"){        if(type == "news-and-announcements"){          commonViewModel.itemTapped(3);        }        else if (type == "all-request") {        }        else if(type == "quick-messages"){          // commonViewModel.setNavigationIndex(0);          // Navigator.push(          //     context,          //     MaterialPageRoute(          //       builder: (context) =>          //           Pagerview(initialpage: 1),          //     ));          // Navigator.push(          //     context,          //     MaterialPageRoute(          //       builder: (context) => Pagerview(initialpage: 0),          //     ));        }        else if (type == "events") {          commonViewModel.itemTapped(1);        }        else if (type == "routine") {          Navigator.push(              context,              MaterialPageRoute(                builder: (context) => Routinescreen(),              ));        }      }    }  } catch (e) {    print("NOTIFIcATION HANLDE RRRPP :: " + e.toString());  }}